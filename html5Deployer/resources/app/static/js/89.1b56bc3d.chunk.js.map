{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/previewSymbol2D.js","../node_modules/@arcgis/core/symbols/support/previewUtils.js","../node_modules/@arcgis/core/symbols/support/svgUtils.js","../node_modules/@arcgis/core/symbols/support/renderUtils.js"],"names":["m","g","b","document","createElement","x","e","t","a","getContext","l","weight","push","size","family","font","join","measureText","width","z","length","parseFloat","slice","j","k","L","C","maxSize","F","opacity","S","rotation","angle","E","n","P","o","toHex","color","U","shape","fill","stroke","offset","Math","min","q","Z","scale","H","T","A","type","style","cx","cy","r","path","command","values","symbolConfig","isSquareFill","i","squareFill","height","max","ceil","round","y","src","url","text","s","test","toString","align","decoration","rotated","kerning","Promise","reject","D","R","B","toCss","then","resolve","applyColorModulation","unshift","c","node","useRotationSize","pathSymbol3DLayer","extrudeSymbol3DLayer","cone","tallCone","invertedCone","cube","tallCube","cylinder","rx","ry","tallCylinder","diamond","tetrahedron","p","floor","u","h","f","d","v","solid","shortdash","shortdot","shortdashdot","shortdashdotdot","dot","dash","longdash","dashdot","longdashdot","longdashdotdot","w","PI","abs","sin","cos","map","trim","cap","dashArray","href","preserveAspectRatio","rotate","variant","pattern","linearGradient","id","image","x1","y1","x2","y2","stops","colors","Array","isArray","M","I","patternUnits","key","gradientUnits","N","left","right","top","bottom","G","args","action","toLowerCase","match","isNaN","Number","NEGATIVE_INFINITY","$","transform","xmlns","some","append","bind","responseType","data","clearRect","drawImage","getImageData","putImageData","canvas","toDataURL","findCredential","token","indexOf","catch"],"mappings":"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","file":"static/js/89.1b56bc3d.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Error.js\";import{pt2px as a,px2pt as l}from\"../../core/screenUtils.js\";import{getFill as n,getStroke as o,getPatternUrlWithColor as s}from\"./gfxUtils.js\";import{shapes as i,adjustColorBrightness as r}from\"./previewUtils.js\";import{renderSymbol as c}from\"./renderUtils.js\";const m=\"picture-fill\",u=\"picture-marker\",p=\"simple-fill\",h=\"simple-line\",d=\"simple-marker\",f=\"text\",v=\"Aa\",y=22,g=120,w=80,M=40,b=document.createElement(\"canvas\");function x(e,t){const a=b.getContext(\"2d\"),l=[];return t&&(t.weight&&l.push(t.weight),t.size&&l.push(t.size+\"px\"),t.family&&l.push(t.family)),a.font=l.join(\" \"),a.measureText(e).width}const k=7.2/2.54,L=72/2.54;function z(e){if(0===e.length)return 0;if(e.length>2){const t=l(1),a=parseFloat(e);switch(e.slice(-2)){case\"px\":return a;case\"pt\":return a*t;case\"in\":return 72*a*t;case\"pc\":return 12*a*t;case\"mm\":return a*k*t;case\"cm\":return a*L*t}}return parseFloat(e)}function j(l,b){var k,L;const j=null!=(null==b?void 0:b.size)?a(b.size):null,C=null!=(null==b?void 0:b.maxSize)?a(b.maxSize):null,F=null!=(null==b?void 0:b.opacity)?b.opacity:null,S=null!=(null==b?void 0:b.rotation)?b.rotation:\"angle\"in l?l.angle:null,E=n(l);let P=o(l);if(E&&!P){const t=\"type\"in E?null:new e(E);\"#ffffff\"===(t?t.toHex():null)&&(P={color:\"#bdc3c7\",width:.75})}const U={shape:null,fill:null,stroke:P,offset:[0,0]};null!=(k=P)&&k.width&&(P.width=Math.min(P.width,w));const q=(null==(L=P)?void 0:L.width)||0;let Z=null!=j&&(null==(null==b?void 0:b.scale)||(null==b?void 0:b.scale)),H=0,T=0,A=!1;switch(l.type){case d:{const e=l.style,t=Math.min(null!=j?j:a(l.size),C||g);switch(H=t,T=t,e){case\"circle\":U.shape={type:\"circle\",cx:0,cy:0,r:.5*t},Z||(H+=q,T+=q);break;case\"cross\":U.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*T]},{command:\"L\",values:[H,.5*T]},{command:\"M\",values:[.5*H,0]},{command:\"L\",values:[.5*H,T]}]};break;case\"diamond\":U.shape={type:\"path\",path:[{command:\"M\",values:[0,.5*T]},{command:\"L\",values:[.5*H,0]},{command:\"L\",values:[H,.5*T]},{command:\"L\",values:[.5*H,T]},{command:\"Z\",values:[]}]},Z||(H+=q,T+=q);break;case\"square\":U.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[H,0]},{command:\"L\",values:[H,T]},{command:\"L\",values:[0,T]},{command:\"Z\",values:[]}]},Z||(H+=q,T+=q),S&&(A=!0);break;case\"triangle\":U.shape={type:\"path\",path:[{command:\"M\",values:[.5*H,0]},{command:\"L\",values:[H,T]},{command:\"L\",values:[0,T]},{command:\"Z\",values:[]}]},Z||(H+=q,T+=q),S&&(A=!0);break;case\"x\":U.shape={type:\"path\",path:[{command:\"M\",values:[0,0]},{command:\"L\",values:[H,T]},{command:\"M\",values:[H,0]},{command:\"L\",values:[0,T]}]},S&&(A=!0);break;case\"path\":U.shape={type:\"path\",path:l.path||\"\"},Z||(H+=q,T+=q),S&&(A=!0),Z=!0}break}case h:{const e=Math.min(null!=j?j:q,C||w),t=e>y?2*e:M;P.width=e,H=t,T=e,U.shape={type:\"path\",path:[{command:\"M\",values:[0,T]},{command:\"L\",values:[H,T]}]};break}case m:case p:H=Math.min(null!=j?j:y,C||g)+q,T=H,Z=!0,U.shape=\"object\"==typeof(null==b?void 0:b.symbolConfig)&&null!=b&&b.symbolConfig.isSquareFill?i.squareFill[0]:i.fill[0];break;case u:{let e=a(l.width),t=a(l.height);const n=null!=j?j:Math.max(e,t),o=e/t;e=o<=1?Math.ceil(n*o):n,t=o<=1?n:Math.ceil(n/o),H=Math.min(e,C||g),T=Math.min(t,C||g),U.shape={type:\"image\",x:-Math.round(H/2),y:-Math.round(T/2),width:H,height:T,src:l.url||\"\"},S&&(A=!0);break}case f:{const e=l,t=e.text||v,n=e.font,o=Math.min(null!=j?j:a(n.size),C||g),s=x(t,{weight:n.weight,size:o,family:n.family}),i=/[\\uE600-\\uE6FF]/.test(t);H=i?o:s,T=o;let r=.25*z((n?o:0).toString());i&&(r+=5),U.shape={type:\"text\",text:t,x:0,y:r,align:\"middle\",decoration:n&&n.decoration,rotated:e.rotated,kerning:e.kerning},U.font=n&&{size:o,style:n.style,decoration:n.decoration,weight:n.weight,family:n.family};break}}if(!U.shape)return Promise.reject(new t(\"symbolPreview: renderPreviewHTML2D\",\"symbol not supported.\"));const D=E,R=l.color;let B=null;return D&&\"pattern\"===D.type&&R&&l.type!==m?B=s(D.src,R.toCss(!0)).then((e=>(D.src=e,U.fill=D,U))):(U.fill=E,B=Promise.resolve(U)),B.then((e=>{const t=[[e]];if(\"object\"==typeof(null==b?void 0:b.symbolConfig)&&null!=b&&b.symbolConfig.applyColorModulation){const a=.6*H;t.unshift([{...e,offset:[-a,0],fill:r(E,-.3)}]),t.push([{...e,offset:[a,0],fill:r(E,.3)}]),H+=2*a}return c(t,[H,T],{node:b&&b.node,scale:Z,opacity:F,rotation:S,useRotationSize:A})}))}export{j as previewSymbol2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport a from\"../../Color.js\";const t={fill:[{type:\"path\",path:\"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z\"}],squareFill:[{type:\"path\",path:\"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z\"}],pathSymbol3DLayer:[{type:\"path\",path:\"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z\"},{type:\"circle\",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:\"path\",path:\"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z\"},{type:\"path\",path:\"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z\"},{type:\"path\",path:\"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z\"}],cone:[{type:\"path\",path:\"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z\"}],tallCone:[{type:\"path\",path:\"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z\"}],invertedCone:[{type:\"path\",path:\"M 0,7 L -8,-8 L 8,-8 Z\"},{type:\"path\",path:\"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z\"}],cube:[{type:\"path\",path:\"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z\"},{type:\"path\",path:\"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z\"},{type:\"path\",path:\"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z\"}],tallCube:[{type:\"path\",path:\"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z\"},{type:\"path\",path:\"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z\"},{type:\"path\",path:\"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z\"}],cylinder:[{type:\"path\",path:\"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z\"},{type:\"ellipse\",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:\"path\",path:\"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z\"},{type:\"ellipse\",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:\"path\",path:\"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z\"},{type:\"path\",path:\"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z\"},{type:\"path\",path:\"M -1,1 L 0,10 L -8,-1 L -1,1 Z\"},{type:\"path\",path:\"M -1,0 L 0,10 L 10,-1 L -1,1 Z\"}],tetrahedron:[{type:\"path\",path:\"M 0,-10 L 10,7 L 0,0 L 0,-10 Z\"},{type:\"path\",path:\"M 0,-10 L 0,0 L -8,7 L 0,-10 Z\"},{type:\"path\",path:\"M 10,7 L 0,0 L -8,7 L 10,7 Z\"}]};function e(a,t,e){const m=22;let c=m,p=m;a<1?c*=.75:a>1&&(p*=1.25);const L=0,n=0;let o=m,s=m;t&&e&&(c=p=o=s=0);return[{type:\"path\",path:[{command:\"M\",values:[o,L]},{command:\"L\",values:[e?o:.875*o,L]},{command:\"L\",values:[e?c-.5*o:n,p-.5*s]},{command:\"L\",values:[c-.5*o,p-.5*s]},{command:\"Z\",values:[]}]},{type:\"path\",path:[{command:\"M\",values:[o,L]},{command:\"L\",values:[o,t?L:.125*s]},{command:\"L\",values:[c-.5*o,t?p-.5*s:s]},{command:\"L\",values:[c-.5*o,p-.5*s]},{command:\"Z\",values:[]}]},{type:\"path\",path:[{command:\"M\",values:[c-.5*o,p-.5*s]},{command:\"L\",values:[e?c-.5*o:n,p-.5*s]},{command:\"L\",values:[e?c-.5*o:n,t?p-.5*s:s]},{command:\"L\",values:[c-.5*o,t?p-.5*s:s]},{command:\"Z\",values:[]}]}]}function m(a){const t=22,e=.5*a,m=0,c=0;return[{type:\"path\",path:[{command:\"M\",values:[c,.7*t*.5]},{command:\"L\",values:[.3*t,.7*t]},{command:\"L\",values:[.3*t,.7*t+e]},{command:\"L\",values:[c,.7*t+e-.7*t*.5]},{command:\"Z\",values:[]}]},{type:\"path\",path:[{command:\"M\",values:[.3*t,.7*t]},{command:\"L\",values:[.3*t,.7*t+e]},{command:\"L\",values:[t,e]},{command:\"L\",values:[t,m]},{command:\"Z\",values:[]}]},{type:\"path\",path:[{command:\"M\",values:[.3*t,m]},{command:\"L\",values:[t,m]},{command:\"L\",values:[.3*t,.7*t]},{command:\"L\",values:[c,.7*t*.5]},{command:\"Z\",values:[]}]}]}function c(){return[{type:\"path\",path:\"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27\"},{type:\"path\",path:\"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z\"},{type:\"path\",path:\"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z\"}]}function p(a,t){let e=t?20:a;const m=t?4:6;e-=e<=22?.5*m:m;const c=0,p=0,L=t?.35*e:.5*e;return[{type:\"path\",path:[{command:\"M\",values:[.5*e,c]},{command:\"L\",values:[e,.5*L]},{command:\"L\",values:[.5*e,L]},{command:\"L\",values:[p,.5*L]},{command:\"Z\",values:[]}]},{type:\"path\",path:[{command:\"M\",values:[c,.5*L]},{command:\"L\",values:[.5*e,L]},{command:\"L\",values:[.5*e,a]},{command:\"L\",values:[p,a-.5*L]},{command:\"Z\",values:[]}]},{type:\"path\",path:[{command:\"M\",values:[.5*e,L]},{command:\"L\",values:[.5*e,a]},{command:\"L\",values:[e,a-.5*L]},{command:\"L\",values:[e,.5*L]},{command:\"Z\",values:[]}]}]}function L(a,t){let e=t?20:a;const m=t?4:6;e-=e<=22?.5*m:m;const c=.5*e,p=.15*e,L=0,n=a-p;return[{type:\"ellipse\",cx:.5*e,cy:n,rx:c,ry:p},{type:\"path\",path:[{command:\"M\",values:[L,p]},{command:\"L\",values:[L,n]},{command:\"L\",values:[e,n]},{command:\"L\",values:[e,p]},{command:\"Z\",values:[]}]},{type:\"ellipse\",cx:.5*e,cy:p,rx:c,ry:p}]}function n(a,t){let e=t?20:a;const m=t?4:6;e-=e<=22?.5*m:m;const c=.15*e,p=a-c;return[{type:\"ellipse\",cx:.5*e,cy:p,rx:.5*e,ry:c},{type:\"path\",path:[{command:\"M\",values:[.5*e,0]},{command:\"L\",values:[e,p]},{command:\"L\",values:[0,p]},{command:\"Z\",values:[]}]}]}function o(a){let t=a;const e=6;t-=t<22?.5*e:e;const m=.15*t,c=0;return[{type:\"path\",path:[{command:\"M\",values:[0,c]},{command:\"L\",values:[t,c]},{command:\"L\",values:[.5*t,a-m]},{command:\"Z\",values:[]}]},{type:\"ellipse\",cx:.5*t,cy:c,rx:.5*t,ry:m}]}function s(a){let t=a;const e=a,m=4;t-=t<22?.5*m:m;const c=0,p=0,L=t,n=e,o=Math.floor(a/10)-1||1;return[{type:\"path\",path:[{command:\"M\",values:[.45*L,c]},{command:\"L\",values:[L,.5*n-o]},{command:\"L\",values:[.45*L-o,.5*n+o]},{command:\"Z\",values:[]}]},{type:\"path\",path:[{command:\"M\",values:[.45*L,c]},{command:\"L\",values:[.45*L-o,.5*n+o]},{command:\"L\",values:[p,.5*n-o]},{command:\"Z\",values:[]}]},{type:\"path\",path:[{command:\"M\",values:[p,.5*n-o]},{command:\"L\",values:[.45*L-o,.5*n+o]},{command:\"L\",values:[.45*L,e]},{command:\"Z\",values:[]}]},{type:\"path\",path:[{command:\"M\",values:[.45*L,e]},{command:\"L\",values:[L,.5*n-o]},{command:\"L\",values:[.45*L-o,.5*n+o]},{command:\"Z\",values:[]}]}]}function l(a){const t=2;let e=a;e-=e<22?.5*t:t;const m=0,c=0;return[{type:\"path\",path:[{command:\"M\",values:[.45*a,m]},{command:\"L\",values:[a,e]},{command:\"L\",values:[.45*a,.6*e]},{command:\"Z\",values:[]}]},{type:\"path\",path:[{command:\"M\",values:[.45*a,m]},{command:\"L\",values:[.45*a,.6*e]},{command:\"L\",values:[c,e]},{command:\"Z\",values:[]}]},{type:\"path\",path:[{command:\"M\",values:[c,e]},{command:\"L\",values:[.45*a,.6*e]},{command:\"L\",values:[a,e]},{command:\"Z\",values:[]}]}]}function u(a,t){const e=.75;return Math.round(Math.min(Math.max(a+255*t*e,0),255))}function h(t,e){if(\"type\"in t&&(\"linear\"===t.type||\"pattern\"===t.type))return t;const m=new a(t);return new a([u(m.r,e),u(m.g,e),u(m.b,e),m.a])}export{h as adjustColorBrightness,u as adjustColorComponentBrightness,n as getConeShapes,p as getCubeShapes,L as getCylinderShapes,s as getDiamondShapes,m as getExtrudeSymbolShapes,o as getInvertedConeShapes,e as getPathSymbolShapes,l as getTetrahedronShapes,c as getWaterSymbolShapes,t as shapes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport t from\"../../Color.js\";import e from\"../../core/has.js\";import{c as i}from\"../../chunks/mat2df32.js\";import{m as o,t as r,i as n,s,r as a}from\"../../chunks/mat2d.js\";import\"../../widgets/support/widgetUtils.js\";import\"../../core/Logger.js\";import{tsx as l}from\"../../widgets/support/jsxFactory.js\";const h=\"http://www.w3.org/2000/svg\";let c=0,f=0;const d=e(\"android\"),y=e(\"chrome\")||d&&d>=4?\"auto\":\"optimizeLegibility\",u={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},p=/([A-DF-Za-df-z])|([-+]?\\d*[.]?\\d+(?:[eE][-+]?\\d+)?)/g;let g={},x={};const m={solid:\"none\",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},w=Math.PI;function k(t,e){const i=t*(w/180);return Math.abs(e*Math.sin(i))+Math.abs(e*Math.cos(i))}function j(t){return t.map((t=>`${t.command} ${t.values.join(\" \")}`)).join(\" \").trim()}function b(t,e,i,o){if(t){if(\"circle\"===t.type)return l(\"circle\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",cx:t.cx,cy:t.cy,r:t.r});if(\"ellipse\"===t.type)return l(\"ellipse\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",cx:t.cx,cy:t.cy,rx:t.rx,ry:t.ry});if(\"rect\"===t.type)return l(\"rect\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",x:t.x,y:t.y,width:t.width,height:t.height});if(\"image\"===t.type)return l(\"image\",{href:t.src,x:t.x,y:t.y,width:t.width,height:t.height,preserveAspectRatio:\"none\"});if(\"path\"===t.type){const o=\"string\"!=typeof t.path?j(t.path):t.path;return l(\"path\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",d:o})}if(\"text\"===t.type)return l(\"text\",{fill:e,\"fill-rule\":\"evenodd\",stroke:i.color,\"stroke-width\":i.width,\"stroke-linecap\":i.cap,\"stroke-linejoin\":i.join,\"stroke-dasharray\":i.dashArray,\"stroke-miterlimit\":\"4\",\"text-anchor\":o.align,\"text-decoration\":o.decoration,kerning:o.kerning,rotate:o.rotate,\"text-rendering\":y,\"font-style\":o.font.style,\"font-variant\":o.font.variant,\"font-weight\":o.font.weight,\"font-size\":o.font.size,\"font-family\":o.font.family,x:t.x,y:t.y},t.text)}return null}function v(e){const i={fill:\"none\",pattern:null,linearGradient:null};if(e)if(\"type\"in e&&\"pattern\"===e.type){const t=\"patternId-\"+ ++c;i.fill=`url(#${t})`,i.pattern={id:t,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}}}else if(\"type\"in e&&\"linear\"===e.type){const o=\"linearGradientId-\"+ ++f;i.fill=`url(#${o})`,i.linearGradient={id:o,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map((e=>({offset:e.offset,color:e.color&&new t(e.color).toString()})))}}else if(e){const o=new t(e);i.fill=o.toString()}return i}function A(e){const i={color:\"none\",width:1,cap:\"butt\",join:\"4\",dashArray:\"none\"};if(e&&(null!=e.width&&(i.width=e.width),e.cap&&(i.cap=e.cap),e.join&&(i.join=e.join.toString()),e.color&&(i.color=new t(e.color).toString()),e.style)){let t=null;if(e.style in m&&(t=m[e.style]),Array.isArray(t)){t=t.slice(0);for(let i=0;i<t.length;++i)t[i]*=e.width;if(\"butt\"!==e.cap){for(let i=0;i<t.length;i+=2)t[i]-=e.width,t[i]<1&&(t[i]=1);for(let i=1;i<t.length;i+=2)t[i]+=e.width}t=t.join(\",\")}i.dashArray=t}return i}function M(t,e){const i={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return t&&(i.align=t.align,i.decoration=t.decoration,i.kerning=t.kerning?\"auto\":\"0\",i.rotate=t.rotated?\"90\":\"0\",i.font.style=e.style||\"normal\",i.font.variant=e.variant||\"normal\",i.font.weight=e.weight||\"normal\",i.font.size=e.size&&e.size.toString()||\"10pt\",i.font.family=e.family||\"serif\"),i}function I(t){const{pattern:e,linearGradient:i}=t;if(e)return l(\"pattern\",{id:e.id,patternUnits:\"userSpaceOnUse\",x:e.x,y:e.y,width:e.width,height:e.height},l(\"image\",{x:e.image.x,y:e.image.y,width:e.image.width,height:e.image.height,href:e.image.href}));if(i){const t=i.stops.map(((t,e)=>l(\"stop\",{key:`${e}-stop`,offset:t.offset,\"stop-color\":t.color})));return l(\"linearGradient\",{id:i.id,gradientUnits:\"userSpaceOnUse\",x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},t)}return null}function N(t,e,i){return r(t,n(t),[e,i])}function z(t,e,i,o,r){return s(t,n(t),[e,i]),t[4]=t[4]*e-o*e+o,t[5]=t[5]*i-r*i+r,t}function $(t,e,i,o){const r=e%360*Math.PI/180;a(t,n(t),r);const s=Math.cos(r),l=Math.sin(r),h=t[4],c=t[5];return t[4]=h*s-c*l+o*l-i*s+i,t[5]=c*s+h*l-i*l-o*s+o,t}function S(t,e){g&&\"left\"in g?(g.left>t&&(g.left=t),g.right<t&&(g.right=t),g.top>e&&(g.top=e),g.bottom<e&&(g.bottom=e)):g={left:t,bottom:e,right:t,top:e}}function G(t){const e=t.args,i=e.length;let o;switch(t.action){case\"M\":case\"L\":case\"C\":case\"S\":case\"Q\":case\"T\":for(o=0;o<i;o+=2)S(e[o],e[o+1]);x.x=e[i-2],x.y=e[i-1];break;case\"H\":for(o=0;o<i;++o)S(e[o],x.y);x.x=e[i-1];break;case\"V\":for(o=0;o<i;++o)S(x.x,e[o]);x.y=e[i-1];break;case\"m\":{let t=0;\"x\"in x||(S(x.x=e[0],x.y=e[1]),t=2);for(o=t;o<i;o+=2)S(x.x+=e[o],x.y+=e[o+1]);break}case\"l\":case\"t\":for(o=0;o<i;o+=2)S(x.x+=e[o],x.y+=e[o+1]);break;case\"h\":for(o=0;o<i;++o)S(x.x+=e[o],x.y);break;case\"v\":for(o=0;o<i;++o)S(x.x,x.y+=e[o]);break;case\"c\":for(o=0;o<i;o+=6)S(x.x+e[o],x.y+e[o+1]),S(x.x+e[o+2],x.y+e[o+3]),S(x.x+=e[o+4],x.y+=e[o+5]);break;case\"s\":case\"q\":for(o=0;o<i;o+=4)S(x.x+e[o],x.y+e[o+1]),S(x.x+=e[o+2],x.y+=e[o+3]);break;case\"A\":for(o=0;o<i;o+=7)S(e[o+5],e[o+6]);x.x=e[i-2],x.y=e[i-1];break;case\"a\":for(o=0;o<i;o+=7)S(x.x+=e[o+5],x.y+=e[o+6])}}function E(t,e,i){const o=u[t.toLowerCase()];let r;\"number\"==typeof o&&(o?e.length>=o&&(r={action:t,args:e.slice(0,e.length-e.length%o)},i.push(r),G(r)):(r={action:t,args:[]},i.push(r),G(r)))}function F(t){const e=(\"string\"!=typeof t.path?j(t.path):t.path).match(p),i=[];if(g={},x={},!e)return null;let o=\"\",r=[];const n=e.length;for(let a=0;a<n;++a){const t=e[a],n=parseFloat(t);isNaN(n)?(o&&E(o,r,i),r=[],o=t):r.push(n)}E(o,r,i);const s={x:0,y:0,width:0,height:0};return g&&\"left\"in g&&(s.x=g.left,s.y=g.top,s.width=g.right-g.left,s.height=g.bottom-g.top),s}function T(t){const e={x:0,y:0,width:0,height:0};if(\"circle\"===t.type)e.x=t.cx-t.r,e.y=t.cy-t.r,e.width=2*t.r,e.height=2*t.r;else if(\"ellipse\"===t.type)e.x=t.cx-t.rx,e.y=t.cy-t.ry,e.width=2*t.rx,e.height=2*t.ry;else if(\"image\"===t.type||\"rect\"===t.type)e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;else if(\"path\"===t.type){const i=F(t);e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height}return e}function U(t){const e={x:0,y:0,width:0,height:0};let i=null,o=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;for(const n of t)i?(i.x=Math.min(i.x,n.x),i.y=Math.min(i.y,n.y),o=Math.max(o,n.x+n.width),r=Math.max(r,n.y+n.height)):(i=e,i.x=n.x,i.y=n.y,o=n.x+n.width,r=n.y+n.height);return i&&(i.width=o-i.x,i.height=r-i.y),i}function L(t,e,r,n,s,a,l,h){const c=(l&&a?k(a,e):e)/2,f=(l&&a?k(a,r):r)/2,d=t.width+n,y=t.height+n,u=i(),p=i();let g=!1;if(s&&0!==d&&0!==y){const t=d/y,i=e>r?e:r;let n=1,s=1;isNaN(i)||(t>1?(n=i/d,s=i/t/y):(s=i/y,n=i*t/d)),o(p,p,z(u,n,s,c,f)),g=!0}const x=t.x+(d-n)/2,m=t.y+(y-n)/2;if(o(p,p,N(u,c-x,f-m)),!g&&(d>e||y>r)){const t=d/e>y/r,i=(t?e:r)/(t?d:y);o(p,p,z(u,i,i,x,m))}return a&&o(p,p,$(u,a,x,m)),h&&o(p,p,N(u,h[0],h[1])),`matrix(${p[0]},${p[1]},${p[2]},${p[3]},${p[4]},${p[5]})`}function C(t,e,i,o){const r=[],n=[];for(const s of t){const t=[],a=[];let h=0,c=0,f=0;for(const e of s){const{shape:i,fill:o,stroke:n,font:s,offset:l}=e;h+=n&&n.width||0;const d=v(o),y=A(n),u=\"text\"===i.type?M(i,s):null;r.push(I(d)),t.push(b(i,d.fill,y,u)),a.push(T(i)),l&&(c+=l[0],f+=l[1])}const d=L(U(a),e,i,h,null==o?void 0:o.scale,null==o?void 0:o.rotation,null==o?void 0:o.useRotationSize,[c,f]);n.push(l(\"g\",{transform:d},t))}return null!=o&&o.useRotationSize&&null!=o&&o.rotation&&(e=k(null==o?void 0:o.rotation,e),i=k(null==o?void 0:o.rotation,i)),l(\"svg\",{xmlns:h,width:e,height:i},l(\"defs\",null,r),n)}export{U as computeBBox,v as generateFillAttributes,A as generateStrokeAttributes,M as generateTextAttributes,T as getBoundingBox,L as getTransformMatrix,I as renderDef,C as renderSVG,b as renderShape};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{id as t}from\"../../kernel.js\";import e from\"../../request.js\";import{toHSV as i,toRGB as n}from\"../../core/colorUtils.js\";import r from\"../../core/Error.js\";import o from\"../../core/has.js\";import\"../../libs/maquette/projection.js\";import{createProjector as a}from\"../../libs/maquette/projector.js\";import{renderSVG as c}from\"./svgUtils.js\";const s=a();function h(t,e,i){const n=Math.ceil(e[0]),r=Math.ceil(e[1]);if(!t.some((t=>!!t.length)))return null;const o=i&&i.node||document.createElement(\"div\");return null!=i.opacity&&(o.style.opacity=i.opacity.toString()),s.append(o,c.bind(null,t,n,r,i)),o}function l(t,e){t=Math.ceil(t),e=Math.ceil(e);const i=document.createElement(\"canvas\");i.width=t,i.height=e,i.style.width=t+\"px\",i.style.height=e+\"px\";const n=i.getContext(\"2d\");return n.clearRect(0,0,t,e),n}function m(t,i,n){return t?e(t,{responseType:\"image\"}).then((t=>{const e=t.data,r=e.width,o=e.height,a=r/o;let c=i;if(n){const t=Math.max(r,o);c=Math.min(c,t)}return{image:e,width:a<=1?Math.ceil(c*a):c,height:a<=1?c:Math.ceil(c/a)}})):Promise.reject(new r(\"renderUtils: imageDataSize\",\"href not provided.\"))}function g(t,e){return!(!t||\"ignore\"===e)&&(\"multiply\"!==e||255!==t.r||255!==t.g||255!==t.b||1!==t.a)}function u(t,e,r,o,a){switch(a){case\"multiply\":t[e+0]*=r[0],t[e+1]*=r[1],t[e+2]*=r[2],t[e+3]*=r[3];break;default:{const a=i({r:t[e+0],g:t[e+1],b:t[e+2]});a.h=o.h,a.s=o.s,a.v=a.v/100*o.v;const c=n(a);t[e+0]=c.r,t[e+1]=c.g,t[e+2]=c.b,t[e+3]*=r[3];break}}}function d(e,n,r,a,c){return m(e,n,c).then((c=>{const s=c.width?c.width:n,h=c.height?c.height:n;if(c.image&&g(r,a)){let t=c.image.width,n=c.image.height;o(\"edge\")&&/\\.svg$/i.test(e)&&(t-=1,n-=1);const m=l(s,h);m.drawImage(c.image,0,0,t,n,0,0,s,h);const g=m.getImageData(0,0,s,h),d=[r.r/255,r.g/255,r.b/255,r.a],p=i(r);for(let e=0;e<g.data.length;e+=4)u(g.data,e,d,p,a);m.putImageData(g,0,0),e=m.canvas.toDataURL(\"image/png\")}else{const i=t&&t.findCredential(e);if(i&&i.token){const t=-1===e.indexOf(\"?\")?\"?\":\"&\";e=`${e}${t}token=${i.token}`}}return{url:e,width:s,height:h}})).catch((function(){return{url:e,width:n,height:n}}))}export{h as renderSymbol,d as tintImageWithColor};\n"],"sourceRoot":""}